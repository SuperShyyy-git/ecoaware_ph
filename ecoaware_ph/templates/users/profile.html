{% extends 'base.html' %}

{% block title %}Profile - {{ user.username }}{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-8">
    <div class="max-w-2xl mx-auto bg-white rounded-lg shadow-md p-8">
        <h1 class="text-3xl font-bold text-green-800 mb-6">User Profile</h1>
        
        <div class="space-y-4">
            <div>
                <label class="text-gray-700 font-semibold">Username:</label>
                <p class="text-gray-900">{{ user.username }}</p>
            </div>
            
            <div>
                <label class="text-gray-700 font-semibold">Email:</label>
                <p class="text-gray-900">{{ user.email }}</p>
            </div>
            
            <div>
                <label class="text-gray-700 font-semibold">Full Name:</label>
                <p class="text-gray-900">{{ user.get_full_name|default:"Not provided" }}</p>
            </div>
            
            <div>
                <label class="text-gray-700 font-semibold">Role:</label>
                <p class="text-gray-900">
                    <span class="px-3 py-1 rounded-full text-sm {% if user.role == 'ADMIN' %}bg-red-100 text-red-800{% else %}bg-blue-100 text-blue-800{% endif %}">
                        {{ user.get_role_display }}
                    </span>
                </p>
            </div>
            
            {% if user.bio %}
            <div>
                <label class="text-gray-700 font-semibold">Bio:</label>
                <p class="text-gray-900">{{ user.bio }}</p>
            </div>
            {% endif %}
            
            {% if user.phone_number %}
            <div>
                <label class="text-gray-700 font-semibold">Phone:</label>
                <p class="text-gray-900">{{ user.phone_number }}</p>
            </div>
            {% endif %}
            
            <div>
                <label class="text-gray-700 font-semibold">Member Since:</label>
                <p class="text-gray-900">{{ user.date_joined|date:"F d, Y" }}</p>
            </div>
        </div>
        
        <div class="mt-8 flex gap-4">
            <a href="{% url 'users:user_dashboard' %}" class="bg-green-600 text-white px-6 py-2 rounded hover:bg-green-700">
                Back to Dashboard
            </a>

            {% if request.user.is_staff or request.user == user %}
            <a href="{% url 'users:user_edit' user.id %}" class="bg-gray-600 text-white px-6 py-2 rounded hover:bg-gray-700">
                Edit Profile
            </a>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}
