{# templates/molecules/navigation/breadcrumb.html #}

{% load static %}
<nav class="flex" aria-label="Breadcrumb">
    <ol role="list" class="flex items-center space-x-4">
        {# Always start with Home #}
        <li>
            <div class="flex items-center">
                <a href="{% url 'home' %}" class="text-gray-400 hover:text-gray-500">
                    {% include 'atoms/icon.html' with name='house' extra_classes='flex-shrink-0 h-5 w-5' %}
                    <span class="sr-only">Home</span>
                </a>
            </div>
        </li>

        {# Loop through the breadcrumb items provided in the context (if any) #}
        {% for item in breadcrumbs %}
            <li>
                <div class="flex items-center">
                    {% include 'atoms/icon.html' with name='chevron-right' extra_classes='flex-shrink-0 h-5 w-5 text-gray-400' %}
                    
                    {% if forloop.last %}
                        {# If this is the last item, it's the current page, so no link #}
                        <span class="ml-4 text-sm font-medium text-gray-500" aria-current="page">
                            {{ item.name }}
                        </span>
                    {% else %}
                        <a href="{{ item.url }}" class="ml-4 text-sm font-medium text-gray-500 hover:text-gray-700">
                            {{ item.name }}
                        </a>
                    {% endif %}
                </div>
            </li>
        {% endfor %}
    </ol>
</nav>